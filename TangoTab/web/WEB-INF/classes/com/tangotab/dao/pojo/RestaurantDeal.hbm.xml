<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.tangotab.dao.pojo.RestaurantDeal" table="restaurant_deal">
        <id name="dealTemplateId" type="java.lang.Integer">
            <column name="REST_DEAL_ID" />
            <generator class="identity" />
        </id>
        <many-to-one name="restaurantLocation" class="com.tangotab.dao.pojo.RestaurantLocation" fetch="select" lazy="false" update="false">
            <column name="REST_LOCATION_ID"  />
        </many-to-one>
        <property name="dealTemplateName" type="java.lang.String">
            <column name="REST_DEAL_NAME" length="100" not-null="true" />
        </property>
        <property name="restDealImagePath" type="java.lang.String">
            <column name="REST_DEAL_IMAGE_PATH" length="500" />
        </property>
        <property name="dealTemplateRestrictions" type="java.lang.String">
            <column name="REST_DEAL_RESTRICTIONS" length="500" />
        </property>
        <property name="dealTemplateDescription" type="java.lang.String">
            <column name="REST_DEAL_DESCRIPTION" length="1000" />
        </property>
        <property name="restDealCreditValue" type="java.lang.Double">
            <column name="REST_DEAL_CREDIT_VALUE" precision="22" scale="0" />
        </property>
        <property name="restDealPublishStatus" type="java.lang.Short">
            <column name="REST_DEAL_PUBLISH_STATUS" />
        </property>
        <property name="restDealPublishedDate" type="java.sql.Timestamp">
            <column name="REST_DEAL_PUBLISHED_DATE" length="19"  />
        </property>
        
        
        <property name="availableWeekDays" type="java.lang.String">
            <column name="AVAILABLE_WEEK_DAYS" length="15" />
        </property>
        <property name="availableDealsQty" type="java.lang.Integer">
            <column name="AVAILABLE_DEALS_QTY" />
        </property>
        <property name="usedDealsQty" type="java.lang.Integer">
            <column name="USED_DEALS_QTY" />
        </property>
        <property name="restDealStartDate" type="java.util.Date">
            <column name="REST_DEAL_START_DATE" length="10" />
        </property>
        <property name="restDealEndDate" type="java.util.Date">
            <column name="REST_DEAL_END_DATE" length="10" />
        </property>
        <property name="isRecurring" type="java.lang.Short">
            <column name="IS_RECURRING" />
        </property>
        <property name="availableStartTime" >
            <column name="AVAILABLE_START_TIME" length="8" />
        </property>
        <property name="availableEndTime">
            <column name="AVAILABLE_END_TIME" length="8" />
        </property>
        <property name="rewardPoints" type="java.lang.Short">
            <column name="REWARD_POINTS" />
        </property>
        <property name="isActive" type="java.lang.Short">
            <column name="IS_ACTIVE" />
        </property>
        <property name="customDeal" type="java.lang.Short">
            <column name="CUSTOM_DEAL" />
        </property>
        <property name="restDealCreateDate" type="java.sql.Timestamp">
            <column name="CUTOM_DEAL_APPROVED_DATE" length="19"  />
        </property>
        <set name="consumerReservations" inverse="true">
            <key>
                <column name="REST_DEAL_ID" not-null="true" />
            </key>
            <one-to-many class="com.tangotab.dao.pojo.ConsumerReservation" />
        </set>
           <set name="dealHistory" inverse="true"  cascade="save-update" lazy="true">
            <key>
                <column name="REST_DEAL_ID" not-null="true" />
            </key>
            <one-to-many class="com.tangotab.dao.pojo.RestaurantDealHistory" />
        </set>
       <one-to-one name="dealEvent" class="com.tangotab.dao.pojo.DealEvent" cascade="all" property-ref="restaurantDeal"/>
    </class>
</hibernate-mapping>
